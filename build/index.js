'use strict';

const t$1=(e={})=>Object.assign(Object.create(null),e),a$3=e=>Object.freeze(t$1(e)),s$2={true:e=>!0===e,false:e=>!1===e,not:e=>!e,any:e=>e.reduce(((e,t)=>e||t)),all:e=>e.reduce(((e,t)=>e&&t)),if:e=>a$3({get:t=>a$3({elseGet:a=>e?t(e):a})})},r$2=e=>t=>t(e),n$4=e=>a$3({in:t=>r$2(t(e))((e=>a$3({res:e,in:n$4(e).in})))}),l=(e,t)=>a=>t(e(a)),c$2=(e,t)=>a=>e(t(a)),d=e=>a$3({in:t=>r$2(l(e,t))((e=>a$3({feedData:e,in:d(e).in})))}),f$1=e=>a$3({feed:t=>r$2(c$2(e,t))((e=>a$3({feedData:e,feed:f$1(e).feed})))});a$3({f:d,l:f$1});const u$2=e=>{let t;return ()=>(void 0===t&&(t=e()),t)};a$3({encode:a$3({pow:(e,t=1)=>[e,"POW",t],root:(e,t=1)=>[e,"ROOT",1/t],add:(e,t=0)=>[e,"ADD",t],sub:(e,t=0)=>[e,"SUB",t],mul:(e,t=1)=>[e,"MUL",t],div:(e,t=1)=>[e,"DIV",t]}),decode:a$3({pow:e=>Math.pow(e[0],e[2]),add:e=>e[0]+e[2],mul:e=>e[0]+e[2]}),inverse:e=>s$2.if("ADD"===e[1]).get((()=>[e[0],"SUB",e[2]])).elseGet((()=>e))});

const o$3=t$1({onLoad:"load",onOnline:"online",onOffline:"offline"}),i$1=e=>{const i=()=>{const o=document.children[0],[i,t]=n$4(o.children).in((n=>[n[0],n[1]])).res;t.style.margin="0px";var d;e.app&&(d=e.app,t.appendChild(d));};if(e.windowEvents){const n=e.windowEvents.onLoad,t=Object.assign({},e.windowEvents,{onLoad:n?()=>{i(),n();}:i});Object.keys(o$3).filter((n=>t[n])).forEach((n=>window.addEventListener(o$3[n],t[n])));}};

const CacheV=e=>{let t;return ()=>(void 0===t&&(t=e()),t)};

const e$1=(e={})=>Object.assign(Object.create(null),e);

const t=t=>{let e,r,n=0;if(0===t.length)return n;for(e=0;e<t.length;e++)r=t.charCodeAt(e),n=(n<<5)-n+r,n|=0;return n};

const r$1=t=>()=>{let e=t[0],r=t[1];return 1073741824&r?(t[0]=++e,r=0):t[1]=++r,`${e}|${r}`},o$2=(e,r,o)=>n=>{const s=Array.from(n).map(((t,r)=>{let n=e.get(t);const s=void 0!==n;return n=s?n:o(),s||e.set(t,n),n})),a=t(s.join("+"));let m=r.get(a);const c=void 0!==m;return m=c?m:n,c||r.set(a,m),a},n$3=t=>e=>t.get(e),s$1=()=>{const t=new Map,s=new Map,a=r$1([0,0]),m=n$3(s),c=o$2(t,s,a);return e$1({createSymbolSet:c,readSymbolSet:m})};

const o$1=e=>(Object.keys(e).forEach((t=>{"object"==typeof e[t]&&o$1(e[t]);})),Object.freeze(e)),n$2=(e,t)=>(r,o)=>{const s=Symbol(),n=e.get(r);if(void 0!==n){const e=n.get(o);return void 0!==e?e:(n.set(o,s),t.set(s,[r,o]),s)}return e.set(r,new Map([[o,s]])),t.set(s,[r,o]),s},c$1=e=>t=>e.get(t),a$2=(e,r)=>o=>{const s=e(o),n=Array.from(s).map((e=>{const t=r(e),[o,s]=t;return s instanceof i?[o,s.val()]:[o,s]}));return e$1(Object.fromEntries(n))};class i{constructor(t,r,s){this.value_=CacheV((()=>o$1(this.value_M()))),this.id=t,this.userCreated=r,this.value_M=CacheV((()=>s(this.id)));}val(){return this.value_()}valM(){return this.value_M()}update(e){}}const u$1=(e,t,r,o)=>(s,n=!0)=>{const c=Object.entries(s).map((([s,n])=>e(s,"object"!=typeof n||n instanceof i?n:u$1(e,t,r,o)(n,!1)))),a=t(new Set(c)),f=r[a];if(void 0!==f)return f;{const e=new i(a,n,o);return r[a]=e,e}},f=()=>{const e=new Map,o=new Map,s=e$1({}),i=n$2(e,o),f=c$1(o),{createSymbolSet:m,readSymbolSet:b}=s$1(),l=a$2(b,f),p=u$1(i,m,s,l);return e$1({RecordIm:p})};

f();

const extendFunction=(n,t)=>(void 0!==n.$?Object.assign(n.$,t):Object.assign(n,{$:t}),n);

const e=Symbol("ArrayOutOfBound"),o=Symbol("ArrayFilterIgnore"),E=[[-Number.MAX_SAFE_INTEGER,"INCLUSIVE"],[Number.MAX_SAFE_INTEGER,"INCLUSIVE"]];const FromArray=t=>m({list:i=>t[i],limit:[[0,"INCLUSIVE"],[t.length,"EXCLUSIVE"]],gap:1});const a$1=(t,i,r)=>m({list:r,limit:t,gap:i}),n$1=t=>i=>{const r=[void 0!==i.start?i.start:t.limit[0],void 0!==i.end?i.end:t.limit[1]];return a$1(r,t.gap,t.list)},m=t=>({value:t,at:(i,r="zero")=>{const[l,o]=t.limit,s="zero"===r?i:"right"===r?o[0]-i-1:l[0]+i+1,E=t.list(s);return ("EXCLUSIVE"===o[1]?s<o[0]:s<=o[0])&&("EXCLUSIVE"===l[1]?s>l[0]:s>=l[0])?E:e},length:()=>{const[i,r]=t.limit,l=t.gap,e=("EXCLUSIVE"===i[1]?l:0)+("EXCLUSIVE"===r[1]?l:0);return (r[0]-i[0]+1-e)/t.gap},limit:n$1(t),range:n$1(t),slice:(i,r,l)=>{void 0===l&&(l=LazyList(t).length());},withGap:i=>a$1(t.limit,i,t.list),concat:(i,r=t.limit[1][0],l)=>{const e={List1:t.gap,List2:t.gap},o="number"==typeof l?l:e[void 0===l?"List1":l],s=r<Number.MAX_SAFE_INTEGER?[t.limit[0],[t.limit[1][0]+i.limit[1][0]-(t.limit[1][0]-r),i.limit[1][1]]]:t.limit,E=r<Number.MAX_SAFE_INTEGER?l=>l>=r?i.list(l-r):t.list(l):t.list;return a$1(s,o,E)},map:i=>a$1(t.limit,t.gap,(r=>{const l=t.list(r);return l===o?o:i(l,r,t)})),forEach:i=>a$1(t.limit,t.gap,(r=>{const l=t.list(r);return l===o||i(l,r,t),l})),forEach2:i=>{const{gap:r,limit:l,list:e}=t,[s,E]=l;let a=t.limit[0][0],n=0;"EXCLUSIVE"===s[1]&&(a+=r);const m="INCLUSIVE"===E[1]?E[0]:E[0]-r;for(;a<=m;){const l=e(a);l!==o&&i(l,a,n,t),a+=r,n++;}},filter:i=>a$1(t.limit,t.gap,(r=>{const l=t.list(r);return l===o?o:i(l)?l:o})),shift:i=>a$1(Object.freeze(t.limit.map((t=>Object.freeze([t[0]+i,t[1]])))),t.gap,(r=>t.list(r+i))),reduce:(i,r)=>{const l=i=>i+(void 0===r.gap?t.gap:r.gap);let e,s=void 0!==(null==r?void 0:r.start)?r.start:"INCLUSIVE"===t.limit[0][1]?t.limit[0][0]:l(t.limit[0][0]),E=0,a=r.init;for(;(void 0===(null==r?void 0:r.count)||E<r.count)&&("EXCLUSIVE"===t.limit[1][1]?s<t.limit[1][0]:s<=t.limit[1][0]);)e=t.list(s),e!==o&&(a=void 0!==a?i(a,e):e,E+=1),s=l(s);return a},toArray:()=>{const i=i=>i+t.gap;let r,l=[],e=t.limit[0][0];for(e+=Math.abs(e%t.gap),"EXCLUSIVE"===t.limit[0][1]&&(e=i(e));"EXCLUSIVE"===t.limit[1][1]?e<t.limit[1][0]:e<=t.limit[1][0];)r=t.list(e),r!==o&&l.push(r),e=i(e);return l}}),I=m({list:t=>t,limit:E,gap:0}),L=I.limit({start:[0,"INCLUSIVE"]}),S=L.map((t=>-t));I.filter((t=>t%2==0));I.filter((t=>t%2==1));const u=I.map((t=>2*t)).withGap(1).filter((t=>0!==t)).limit({start:[-Number.MAX_SAFE_INTEGER/2,"INCLUSIVE"],end:[Number.MAX_SAFE_INTEGER/2,"INCLUSIVE"]}),g=I.map((t=>2*t-1)).withGap(1).filter((t=>0!==t)).limit({start:[-Number.MAX_SAFE_INTEGER/2-1,"INCLUSIVE"],end:[Number.MAX_SAFE_INTEGER/2+1,"INCLUSIVE"]}),N=(t,i="EXCLUSIVE")=>L.range({start:[0,"INCLUSIVE"],end:[t,i]}),C=t=>t===e,U=t=>t===o;const LazyList=extendFunction(m,{FromArray:FromArray,Numbers:I,NumbersPositive:L,NumbersNegative:S,IntegersEven:u,IntegersOdd:g,Range:N,isOutOfBound:C,isFilteredOut:U});console.log({LazyListBase:m,LazyList:LazyList,prot:LazyList.$});console.log(I.limit({start:[-10,"INCLUSIVE"],end:[10,"INCLUSIVE"]}).withGap(1.7).toArray()),console.log(I.limit({start:[-10,"EXCLUSIVE"],end:[10,"EXCLUSIVE"]}).withGap(1.7).toArray()),console.log(I.limit({start:[-10,"EXCLUSIVE"],end:[10,"EXCLUSIVE"]}).withGap(1.7).length()),console.log(I.limit({start:[-10,"EXCLUSIVE"],end:[10,"EXCLUSIVE"]}).withGap(1.7).at(5)),console.log(I.map((t=>2*t)).limit({start:[-10,"EXCLUSIVE"],end:[10,"EXCLUSIVE"]}).withGap(1).toArray());

const{applyStyles:n}=n$4({styleKeyIsVar:e=>e.startsWith("--"),CamelToKebab:e=>e.replace(/[A-Z]/g,(e=>"-"+e))}).in((({CamelToKebab:e,styleKeyIsVar:t})=>({applyStyles:(n,r)=>{Object.keys(r).forEach((s=>{const a=t(s)?s:e(s);n$4(r[s]).in((e=>{n.getPropertyValue(a)!==e&&n.setProperty(a,r[s]);}));}));}}))).res,r={},s=t=>n$4(document.createElement(t)).in((t=>{const s=()=>a$3({cEventMap:a,cStyle:i,cContains:c,style:p,E:t}),a=(e,n)=>(n$4(void 0===n?r:n).in((o=>Object.entries(e).forEach((([e,n])=>{t.addEventListener(e,(e=>o[n](e,t,l)));})))),s()),c=e=>(e.forEach((e=>t.appendChild(e))),s()),l=e=>n(t.style,e),i=(e,o)=>(l(e),void 0!==o&&(o.obj[o.name]={set:l,get:e=>t.style[e]}),s()),p=l;return s()})).res;document.createElement("button");const a=e=>{const n=s("button").cStyle({backgroundColor:"#bdbdbd",width:"var(--h)",cursor:"pointer"}).cEventMap({click:"c"},{hStart:(e,t,o)=>{console.log("hStart"),o({transform:"scale(1.5)"});},hEnd:(e,t,o)=>{console.log("hEnd"),o({transform:"scale(1)"});},c:(e,t,o)=>{console.log("clicked"),o({backgroundColor:"red"});}}),r={};return s("div").cStyle({display:"flex",flexDirection:"column",border:"1px solid grey",width:"fit-content",transform:"translate(0px,0px)"},{obj:r,name:"movableContainer"}).cContains([s("div").cStyle({"--h":"25px",height:"var(--h)",display:"flex",flexDirection:"row-reverse",backgroundColor:"grey",cursor:"move"}).cEventMap({mousedown:"windowMoveStart",touchstart:"windowMoveStart"},{windowMoveStart:(e,n,s)=>{const a=e;if(s({backgroundColor:"blue"}),a.target===n){const e=n$4(r.movableContainer.get("transform")).in((e=>{const t=e.split("translate")[1].split(",");return {x:("mousedown"===a.type?a.pageX:a.touches[0].pageX)-Number(t[0].split("(")[1].split("px")[0]),y:("mousedown"===a.type?a.pageY:a.touches[0].pageY)-Number(t[1].split(")")[0].split("px")[0])}})).res;console.log({offset:e});const n=u$2((()=>["mousemove",t=>{r.movableContainer.set({transform:`translate(${t.pageX-e.x}px,${t.pageY-e.y}px)`});}])),s=()=>["touchmove",t=>{r.movableContainer.set({transform:`translate(${t.touches[0].pageX-e.x}px,${t.touches[0].pageY-e.y}px)`});}],c="mousedown"===a.type,l=c?n():s();document.addEventListener(...l),document.addEventListener(c?"mouseup":"touchend",(()=>{document.removeEventListener(...l);}),{once:!0});}}}).cContains([n.E]).E,s("div").cStyle({padding:"2px"}).cContains([void 0===e?s("div").cStyle({height:"50px",width:"60px"}).E:e]).E])};r.GlobalMouseUp=(e,t)=>{};const c=s("div").cStyle({boxSizing:"border-box",padding:"20px",height:"100vh",width:"100vw",overflow:"hidden"}).cEventMap({mouseup:"GlobalMouseUp"}).cContains([a(s("div").cStyle({height:"100px",width:"240px"}).E).E]).E;

console.log("");i$1({windowEvents:{onLoad:()=>{console.log("hello");},onOnline:()=>{},onOffline:()=>{}},app:c});
